# Celery Worker and Broker - Local Development
namespace:
  create: true
  name: "celery"

broker:
  enabled: true
  replicaCount: 1
  image:
    repository: redis
    tag: 7.2-alpine
    pullPolicy: IfNotPresent
  resources:
    requests:
      memory: 128Mi
      cpu: 100m
    limits:
      memory: 256Mi
      cpu: 200m

worker:
  enabled: true
  replicaCount: 1
  image:
    repository: "your-acr.azurecr.io/stackai/celery-worker"
    tag: "latest"
    pullPolicy: IfNotPresent
  resources:
    requests:
      memory: 256Mi
      cpu: 200m
    limits:
      memory: 512Mi
      cpu: 500m
  env:
    CELERY_BROKER_URL: "redis://celery-broker:6379/0"
    CELERY_RESULT_BACKEND: "redis://celery-broker:6379/0"
    secrets:
      useExternalSecrets: false

externalSecrets:
  enabled: false
