# Supabase - Production
externalURL: "https://your-domain.com"

jwt:
  exp: 3600
  # Use external secret for production
  existingSecret: "supabase-jwt-secret"

db:
  type: internal
  internal:
    image:
      repository: supabase/postgres
      tag: 15.8.1.069
    # Use external secret for production
    existingSecret: "supabase-db-secret"
    resources:
      requests:
        memory: 2Gi
        cpu: 500m
      limits:
        memory: 4Gi
        cpu: 2000m

studio:
  image:
    repository: supabase/studio
    tag: 2025.05.05-sha-3c3fe9b
  username: admin
  # Use external secret for production
  existingSecret: "supabase-studio-secret"
  resources:
    requests:
      memory: 512Mi
      cpu: 200m
    limits:
      memory: 1Gi
      cpu: 500m

kong:
  image:
    repository: kong
    tag: 2.8.1
  resources:
    requests:
      memory: 256Mi
      cpu: 200m
    limits:
      memory: 512Mi
      cpu: 500m

auth:
  enabled: true
  image:
    repository: supabase/gotrue
    tag: v2.171.0
  disableSignup: false
  email:
    enabled: true
    # Use external secret for production
    existingSecret: "supabase-email-secret"
  resources:
    requests:
      memory: 256Mi
      cpu: 200m
    limits:
      memory: 512Mi
      cpu: 500m

meta:
  enabled: true
  image:
    repository: supabase/postgres-meta
    tag: v0.88.9
  resources:
    requests:
      memory: 256Mi
      cpu: 200m
    limits:
      memory: 512Mi
      cpu: 500m

rest:
  enabled: true
  image:
    repository: postgrest/postgrest
    tag: v12.2.12
  resources:
    requests:
      memory: 256Mi
      cpu: 200m
    limits:
      memory: 512Mi
      cpu: 500m

realtime:
  enabled: true
  image:
    repository: supabase/realtime
    tag: v2.34.47
  selfHosted: true
  # Use external secret for production
  existingSecret: "supabase-realtime-secret"
  resources:
    requests:
      memory: 256Mi
      cpu: 200m
    limits:
      memory: 512Mi
      cpu: 500m

functions:
  enabled: true
  image:
    repository: supabase/edge-runtime
    tag: v1.67.4
  verifyJWT: true
  resources:
    requests:
      memory: 256Mi
      cpu: 200m
    limits:
      memory: 512Mi
      cpu: 500m

storage:
  enabled: false

analytics:
  enabled: false
