# This is to override the chart name.
nameOverride: ""
fullnameOverride: ""

# This section builds out the service account more information can be found here: https://kubernetes.io/docs/concepts/security/service-accounts/
serviceAccount:
  # Specifies whether a service account should be created
  create: true
  # Automatically mount a ServiceAccount's API credentials?
  automount: true
  # Annotations to add to the service account
  annotations: {}
  # The name of the service account to use.
  # If not set and create is true, a name is generated using the fullname template
  name: ""

# MongoDB Configuration
mongodb:
  enabled: true
  image:
    repository: mongo
    tag: 7.0
    pullPolicy: IfNotPresent

  # MongoDB Authentication
  auth:
    enabled: true
    rootUsername: admin
    rootPassword: "mongodb123"
    rootDatabase: admin
    # if using existing secret, the keys must be "mongodb-root-password"
    existingSecret: ""

  # MongoDB Configuration
  configuration: |
    storage:
      dbPath: /data/db
      journal:
        enabled: true
      wiredTiger:
        engineConfig:
          cacheSizeGB: 1
    systemLog:
      destination: file
      logAppend: true
      path: /var/log/mongodb/mongod.log
    net:
      port: 27017
      bindIpAll: true

  # Service Configuration
  service:
    type: ClusterIP
    ports:
      mongodb: 27017

  # Persistence Configuration
  persistence:
    enabled: true
    size: 10Gi
    storageClass: ""
    accessMode: ReadWriteOnce

  # Resources
  resources:
    requests:
      memory: 256Mi
      cpu: 100m
    limits:
      memory: 512Mi
      cpu: 500m

  # Replica Configuration
  replicaCount: 1

  # Security Context
  securityContext:
    enabled: true
    runAsUser: 999
    runAsGroup: 999
    fsGroup: 999

  # Pod Security Context
  podSecurityContext:
    enabled: true
    runAsUser: 999
    runAsGroup: 999
    runAsNonRoot: true
    fsGroup: 999

  # Node Selector
  nodeSelector: {}

  # Tolerations
  tolerations: []

  # Affinity
  affinity: {}

  # Liveness and Readiness Probes
  livenessProbe:
    enabled: true
    initialDelaySeconds: 30
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3
    successThreshold: 1

  readinessProbe:
    enabled: true
    initialDelaySeconds: 5
    periodSeconds: 5
    timeoutSeconds: 5
    failureThreshold: 3
    successThreshold: 1

# Extra objects to be created
extraObjects: []
